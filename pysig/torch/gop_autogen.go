// Code generated by gop (Go+); DO NOT EDIT.

package torch

import (
	"github.com/goplus/hdq"
	"github.com/qiniu/x/errors"
	"strings"
)

const GopPackage = "github.com/goplus/hdq"
const _ = true
const spaces = " \t\r\nÂ¶"

type Result struct {
	Name string `json:"name"`
	Doc  string `json:"doc"`
	Sig  string `json:"sig"`
}
//line pysig/torch/pysig_torch.gop:36:1
func New(doc hdq.NodeSet) Result {
//line pysig/torch/pysig_torch.gop:37:1
	fn := doc.Any().Dl().Class("py function")
//line pysig/torch/pysig_torch.gop:38:1
	decl := func() (_gop_ret string) {
//line pysig/torch/pysig_torch.gop:38:1
		var _gop_err error
//line pysig/torch/pysig_torch.gop:38:1
		_gop_ret, _gop_err = fn.FirstElementChild().Dt().Text__0()
//line pysig/torch/pysig_torch.gop:38:1
		if _gop_err != nil {
//line pysig/torch/pysig_torch.gop:38:1
			_gop_err = errors.NewFrame(_gop_err, "fn.firstElementChild.dt.text", "pysig/torch/pysig_torch.gop", 38, "torch.New")
//line pysig/torch/pysig_torch.gop:38:1
			panic(_gop_err)
		}
//line pysig/torch/pysig_torch.gop:38:1
		return
	}()
//line pysig/torch/pysig_torch.gop:39:1
	pos := strings.IndexByte(decl, '(')
//line pysig/torch/pysig_torch.gop:40:1
	if pos > 0 {
//line pysig/torch/pysig_torch.gop:41:1
		name := strings.TrimPrefix(decl[:pos], "torch.")
//line pysig/torch/pysig_torch.gop:42:1
		sig := decl[pos:]
//line pysig/torch/pysig_torch.gop:43:1
		return Result{strings.TrimSpace(name), "", strings.TrimRight(sig, spaces)}
	}
//line pysig/torch/pysig_torch.gop:45:1
	return Result{"", "", "<NULL>"}
}
